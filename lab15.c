#include <stdio.h>

// Функция обработки цифр (1 - прямой порядок, 0 - обратный)
void d(int o) {
    int c = getchar();
        
    // Условие выхода из рекурсии: конец строки или файла
    if (c == '\n' || c == EOF) return;
    // Прямой порядок: печатаем цифру сразу, затем обрабатываем следующую
    if (o) { putchar(c); putchar(' '); d(o); } // Выводим текущую цифру // Выводим пробел
     // Рекурсивно обрабатываем следующую цифру (d(o))
    }
    else { d(o); putchar(c); putchar(' '); } // Обратный порядок: сначала обрабатываем следующие цифры, затем печатаем текущую
}

int main() {
    printf("Введите число: ");
    
    printf("Прямой порядок: ");
    d(1); // Прямой порядок
    
    // Сбрасываем указатель ввода в начало, чтобы прочитать данные снова
    rewind(stdin);
    // Очищаем буфер ввода до конца строки
    while (getchar() != '\n');
    
    printf("\nОбратный порядок: ");
    d(0); // Обратный порядок
    
    printf("\n");
    return 0;
}



